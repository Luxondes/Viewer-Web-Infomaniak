<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="styles/style.css">
	<link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>
	<div class="sidebar">
    	<div class="logo-details">
      		<i class='bx bxl-javascript icon'></i>
        	<div class="logo_name">ViewerWeb</div>
        	<i class='bx bx-menu' id="btn" ></i>
    	</div>
		<ul class="nav-list">
			<li>
				<a href="#" id="dataBtn">
					<i class='bx bx-folder-open' ></i>
					<span class="links_name">Data</span>
				</a>
				<span class="tooltip">Data</span>
			</li>
			<li>
				<a href="#" id="optionBtn">
					<i class='bx bx-slider'></i>
					<span class="links_name">Option</span>
				</a>
				<span class="tooltip">Option</span>
			</li>
			<li>
				<a href="#" id="filesBtn">
					<i class='bx bx-file' ></i>
					<span class="links_name">Files</span>
				</a>
				<span class="tooltip">Files</span>
			</li>
			<li>
				<a href="#" id="graphBtn">
					<i class='bx bx-line-chart' ></i>
					<span class="links_name">Graph</span>
				</a>
				<span class="tooltip">Graph</span>
			</li>
			<li>
				<a href="#" id="settingBtn">
					<i class='bx bx-cog' ></i>
					<span class="links_name">Setting</span>
				</a>
				<span class="tooltip">Setting</span>
			</li>
			<li class="profile">
				<div class="profile-details">
				<img src="img/luxondes.jpg" alt="">
				<div class="name_job">
					<div class="name">Luxondes</div>
				</div>
				</div>
				<i class='bx bx-log-out' id="log_out" ></i>
			</li>
		</ul>
	</div>

	<section class="home-section" id="section">

		<div id="data" class="hidden">
			<p>Data:</p><br>
			<p>Upload an image with the files dialogs or by dragging and dropping image onto the datas zones</p>
			<hr>
			<div id="data1">
				<p>Data 1</p>
				<form>
					<input type="file" id="fileElemAdd" multiple accept="*">
					<label class="button" for="fileElemAdd">Add</label>
				</form>
				<form>
					<label class="button" id="fileElemRemove">Remove</label>
				</form>

				<div class="gallery" id="gallery1">
				</div>
			</div>
			<hr>
			<div id="data2">
				<p>Data 2</p>
				<form>
					<input type="file" id="fileElemAdd2" multiple accept="*">
					<label class="button" for="fileElemAdd2">Add</label>
				</form>
				<form>
					<label class="button" id="fileElemRemove">Remove</label>
				</form>

				<div class="gallery" id="gallery2">
				</div>
			</div>



	
			

		</div>

		<div id="option" class="hidden">
			<p>Option:</p><br>
			<p>Options to manipulate the render...</p><br>
			<input type="checkbox"  id="displayGrid" checked> Display grid<br>
			<hr>
			<input type="checkbox" id="displayImg1" checked> Display image 1<br>
			<input type="checkbox" id="displayO" checked> Display heightmap 1<br>
			<canvas id="heightgrd" width="64" height="256"></canvas><br>
			<hr>
			<input type="checkbox"  id="displayImg2" checked> Display image 2<br>
			<input type="checkbox"  id="displayO2" checked> Display heightmap 2<br>
			<canvas id="heightgrd2" width="64" height="256"></canvas>
		</div>

		<div id="files" class="hidden">
			<p>Files:</p><br>
			<p>Files used to set the render...</p>
			<div id="container1"></div>
			<hr>
			<div id="container2"></div>
		</div>

		<div id="graph" class="hidden">
			<p>Graph:</p><br>
			<p>Graphs... and options...</p><br>
			<div id="plot"></div><br>
			<input type="checkbox"  id="displayCoupe"> Display coupe<br>
		</div>

		<div id="datas" class="hidden">
			<p id="Xsize1">1</p>
			<p id="Ysize1">1</p>
			<p id="dat1"></p>
			<p id="Xsize2">1</p>
			<p id="Ysize2">1</p>
			<p id="dat2"></p>
		</div>
		

		<div id="drop-area" class="hidden"></div>
	</section>

	<script>
		let sidebar = document.querySelector(".sidebar");
		let closeBtn = document.querySelector("#btn");

		closeBtn.addEventListener("click", ()=>{
			sidebar.classList.toggle("open");
			menuBtnChange();
		});
		function menuBtnChange() {
			if(sidebar.classList.contains("open")){
				closeBtn.classList.replace("bx-menu", "bx-menu-alt-right");
			}else {
				closeBtn.classList.replace("bx-menu-alt-right","bx-menu");
			}
		}


		let dataBtn = document.querySelector("#dataBtn");
		let optionBtn = document.querySelector("#optionBtn");
		let filesBtn = document.querySelector("#filesBtn");
		let graphBtn = document.querySelector("#graphBtn");
		let status = [true, true, true, true];
		let menus = [document.querySelector("#data"), document.querySelector("#option"), document.querySelector("#files"), document.querySelector("#graph")];

		dataBtn.addEventListener("click", ()=>{hide(0)});
		optionBtn.addEventListener("click", ()=>{hide(1)});
		filesBtn.addEventListener("click", ()=>{hide(2)});
		graphBtn.addEventListener("click", ()=>{hide(3)});

		function hide(i){
			if (status[i]){
				menus[i].classList.remove('hidden');
				status[i] = false;

				for (let index = 0; index < status.length; index++) {
					if ((index != i ) && !(status[index])){
						menus[index].classList.add('hidden');
						status[index] = true;
					}
				}
			}else{
				menus[i].classList.add('hidden');
				status[i] = true;
			}
		}

	</script>

	<script src="lib/dat.gui.min.js"></script>
	<script src="lib/stats.min.js"></script>
	<script src="lib/plotly.min.js"></script>
	<script src="lib/Noise.js"></script>
	<script type="importmap">
		{
			"imports": { "three": "./lib/three-module.js" }
		}
	</script>
	<script type="module" src="scripts/fileManager.js"></script>
	<script type="module" src="scripts/heightMap.js"></script>
	<script type="module" src="scripts/plot.js"></script>

</body>

</html>
